digraph ReflectometryReductionOne {
label = "ReflectometryReductionOne High Level Flowchart"
 $global_style

subgraph params {
 $param_style
  inputWS       [label="InputWorkspace"]
  outputWSWL    [label="OutputWorkspace\nin wavelength"]
  outputWSFinal [label="OutputWorkspace in\nmomentum transfer"]
}

subgraph decisions {
 $decision_style
  checkXUnit      [label="X axis in &lambda;?"]
  checkTransRun   [label="FirstTransmissionRun\ngiven?"]
  checkThetaIn    [label="ThetaIn given?"]
}

subgraph algorithms {
 $algorithm_style
  divideTrans   [label="Divide by\ntransmission run"]
  corrAlg       [label="Apply correction algorithm\nif specified"]
  calcTheta     [label="Calculate ThetaIn"]
  corrDetPos    [label="Correct detector\npositions if necessary"]
  convertMom    [label="Convert to momentum\ntransfer, rebin and scale"]
}

subgraph processes {
 $process_style
  convertUnits  [label="Convert to &lambda; and\ndivide Detectors\nby Monitors"]
}

subgraph values {
 $value_style
}

inputWS         -> checkXUnit
checkXUnit      -> checkTransRun  [label="Yes"]
checkXUnit      -> convertUnits   [label="No"]
convertUnits    -> checkTransRun

checkTransRun   -> divideTrans    [label="Yes"]
checkTransRun   -> corrAlg        [label="No"]
divideTrans     -> checkThetaIn
corrAlg         -> checkThetaIn

checkThetaIn    -> corrDetPos     [label="Yes"]
checkThetaIn    -> calcTheta      [label="No"]
calcTheta       -> corrDetPos
corrDetPos      -> outputWSWL

outputWSWL      -> convertMom
convertMom      -> outputWSFinal
}
