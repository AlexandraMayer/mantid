#include <boost/python/module.hpp>
#include <boost/python/docstring_options.hpp>

#include <numpy/arrayobject.h>

#include "MantidPythonInterface/kernel/SingleValueTypeHandler.h"

using namespace Mantid::PythonInterface;
using PropertyMarshal::SingleValueTypeHandler;

// Forward declare
@EXPORT_DECLARE@

BOOST_PYTHON_MODULE(_kernel)
{
  // Doc string options - User defined, python arguments, C++ call signatures
  boost::python::docstring_options docstrings(true, true, false);
  // Import numpy
  _import_array();
  
  
  // Map builtin type objects to appropriate handler classes for properties
  PropertyMarshal::registerHandler(&PyInt_Type, new SingleValueTypeHandler<int>());
  PropertyMarshal::registerHandler(&PyBool_Type, new SingleValueTypeHandler<bool>());
  PropertyMarshal::registerHandler(&PyFloat_Type, new SingleValueTypeHandler<double>());
  PropertyMarshal::registerHandler(&PyString_Type, new SingleValueTypeHandler<std::string>());

@EXPORT_FUNCTIONS@
}
